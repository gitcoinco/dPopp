graph TB
    %%{init: {"flowchart": {"htmlLabels": false}} }%%
    classDef default line-height:1.5,text-align:left;
    classDef FixFont font-size:11px,top:20px;
    subgraph User
      B(Wallet B)
      subgraph CommitmentCircuit
        CommitmentPublic["`**Public**
          B
          Assertion[n]
          Merkle Root
          Community ID
          Community Nullifier[n]
          *= Hash(secret, UUID, community ID)*
          Issuer
          Expiry[n]`"]
        CommitmentPrivate["`**Private**
          Secret
          Credential[n]
          Commitment + Merkle Path[n]`"]:::FixFont
      end
    end

    subgraph Scorer
      StoredCredential["`**Stored Credential[n]**
          B
          Assertion
          Community ID
          Community Nullifier
          Expiry`"]
      StoredCredential-->Database[(Credential\nStorage)]
      StoredCredential-->Score((Score))
    end

    Score-->B
    CommitmentCircuit-->StoredCredential
